<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="nkeBfReULDwNvxD7W7cDmXdaRxpF-6PngFIEwV0bpaE" />
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Notariqon – casa d'Arno: il sito letterario di Guido Turco con poesie inedite, critica poetica nella Tribuna Critica e riflessioni sulla letteratura italiana contemporanea.">
    <meta name="keywords" content="Guido Turco, Notariqon, poesia italiana, critica letteraria, poesia contemporanea, inediti poetici, Tribuna Critica, Via Babelia">
    <meta name="author" content="Guido Turco">
    
    <title>Notariqon - Guido Turco | Poesia, Critica Letteraria e Inediti</title>
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="Notariqon - Guido Turco | Poesia, Critica Letteraria e Inediti">
    <meta property="og:description" content="Il sito letterario di Guido Turco con poesie inedite, critica poetica e riflessioni sulla letteratura contemporanea.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://guidoturco.github.io/">
    <meta property="og:site_name" content="Notariqon">
    <meta property="og:image" content="https://guidoturco.github.io/images/notariqon-og.jpg">
    <style>
        body {
            font-family: 'Helvetica', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            background: white;
            color: #222;
            line-height: 1.8;
        }
        header {
            text-align: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 30px;
            margin-bottom: 50px;
        }
        h1 {
            font-size: 3em;
            margin: 0 0 10px 0;
            letter-spacing: 1px;
        }
        .subtitle {
            font-size: 1.3em;
            color: #555;
            margin: 0;
            font-style: italic;
        }
        nav {
            margin-top: 30px;
        }
        nav a {
            margin: 0 15px;
            color: #333;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
        }
        nav a:hover {
            text-decoration: underline;
        }
        .main-image {
            width: 100%;
            max-width: 200px;
            height: auto;
            margin: 50px auto;
            display: block;
            border-radius: 0;
            box-shadow: none;
        }
        .image-credit {
            text-align: center;
            font-size: 0.75rem;
            color: #999;
            margin-top: 0.5rem;
            margin-bottom: 2rem;
            font-style: italic;
            opacity: 0.6;
        }
        section {
            margin-bottom: 70px;
        }
        h2 {
            font-size: 2em;
            border-bottom: 1px solid #eee;
            padding-bottom: 12px;
            margin-bottom: 10px;
            color: #111;
        }
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            border-bottom: 1px solid #eee;
            padding-bottom: 12px;
            margin-bottom: 10px;
        }
        .section-header h2 {
            border-bottom: none;
            padding-bottom: 0;
            margin-bottom: 0;
        }
        .back-top {
            font-size: 0.8em;
            color: #999;
            text-decoration: none;
        }
        .back-top:hover {
            color: #333;
            text-decoration: underline;
        }
        .section-description {
            font-style: italic;
            color: #666;
            font-size: 0.95em;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        .post-date {
            font-style: italic;
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        footer {
            text-align: center;
            border-top: 1px solid #eee;
            padding-top: 30px;
            font-size: 0.9em;
            color: #555;
            margin-top: 80px;
        }
        .donation {
            text-align: center;
            margin: 60px 0;
            font-style: italic;
        }
        @media (max-width: 768px) {
            nav a {
                display: block;
                margin: 12px 0;
            }
            h1 { font-size: 2.4em; }
        }
        /* Sidebar a lato destro solo su desktop */
        @media (min-width: 900px) {
            #archive-tribuna,
            #archive-inediti,
            #archive-disiecta {
                float: right;
                width: 260px;
                margin-left: 40px;
                padding: 20px;
                background: #f9f9f9;
                border-left: 1px solid #eee;
                font-size: 0.95em;
            }
            #content-tribuna,
            #content-inediti,
            #content-disiecta {
                margin-right: 320px;
            }
            /* Azzeriamo margin se content vuoto */
            #content-tribuna:empty,
            #content-inediti:empty,
            #content-disiecta:empty {
                margin-right: 0;
            }
            /* Reset float dopo sidebar */
            section::after {
                content: "";
                display: table;
                clear: both;
            }
        }

        /* Stile leggero per la sidebar anche su mobile (sopra i contenuti) */
        #archive-inediti,
        #archive-tribuna,
        #archive-disiecta {
            margin-bottom: 40px;
        }
        #archive-inediti h3,
        #archive-tribuna h3,
        #archive-disiecta h3 {
            font-size: 1.4em;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
        }

        /* Sidebar fissa autori */
        #authors-cloud {
            position: fixed;
            top: 120px;
            right: 20px;
            width: 180px;
            padding: 15px;
            background: #fafafa;
            border-left: 2px solid #eee;
            font-size: 0.85em;
            line-height: 1.9;
            max-height: calc(100vh - 160px);
            overflow-y: auto;
            z-index: 100;
        }
        #authors-cloud h4 {
            font-size: 0.95em;
            margin: 0 0 12px 0;
            padding-bottom: 8px;
            border-bottom: 1px solid #ddd;
            color: #333;
        }
        #authors-cloud .cloud-content {
            text-align: left;
        }
        #authors-cloud .cloud-content a {
            display: block;
            margin-bottom: 8px;
            color: #444;
            text-decoration: none;
            cursor: pointer;
        }
        #authors-cloud .cloud-content a:hover {
            text-decoration: underline;
            color: #000;
        }
        @media (max-width: 1100px) {
            #authors-cloud { display: none; }
        }

        /* Box Ultimo pubblicato */
        #ultimo-pubblicato {
            max-width: 600px;
            margin: 40px auto 50px auto;
            padding: 20px;
            background: #fafafa;
            border: 1px solid #eee;
            border-left: 3px solid #333;
        }
        #ultimo-pubblicato .ultimo-label {
            font-size: 0.75em;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #888;
            margin-bottom: 15px;
        }
        #ultimo-pubblicato .ultimo-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        #ultimo-pubblicato .ultimo-item {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        #ultimo-pubblicato .ultimo-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            flex-shrink: 0;
        }
        #ultimo-pubblicato .ultimo-item-content {
            flex: 1;
        }
        #ultimo-pubblicato .ultimo-title {
            font-size: 1.05em;
            font-weight: bold;
            margin-bottom: 2px;
            color: #222;
        }
        #ultimo-pubblicato .ultimo-author {
            font-size: 0.9em;
            color: #555;
            margin-bottom: 3px;
        }
        #ultimo-pubblicato .ultimo-section {
            font-size: 0.85em;
            color: #666;
        }
        #ultimo-pubblicato .ultimo-section a {
            color: #333;
            text-decoration: none;
        }
        #ultimo-pubblicato .ultimo-section a:hover {
            text-decoration: underline;
        }
        @media (max-width: 500px) {
            #ultimo-pubblicato .ultimo-item {
                flex-direction: column;
                text-align: center;
            }
            #ultimo-pubblicato .ultimo-item img {
                width: 50px;
                height: 50px;
            }
        }

        /* Modale */
        #author-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        #author-modal.visible {
            display: flex;
        }
        #author-modal .modal-content {
            background: white;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            border-radius: 4px;
            position: relative;
        }
        #author-modal .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5em;
            cursor: pointer;
            color: #999;
        }
        #author-modal .modal-close:hover {
            color: #333;
        }
        #author-modal h3 {
            margin-top: 0;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        #author-modal ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        #author-modal ul li {
            margin-bottom: 12px;
        }
        #author-modal ul li a {
            color: #333;
            text-decoration: none;
        }
        #author-modal ul li a:hover {
            text-decoration: underline;
        }

        /* Modale RSS */
        #rss-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        #rss-modal.visible {
            display: flex;
        }
        #rss-modal .modal-content {
            background: white;
            padding: 30px;
            max-width: 550px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            border-radius: 4px;
            position: relative;
        }
        #rss-modal .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5em;
            cursor: pointer;
            color: #999;
        }
        #rss-modal .modal-close:hover {
            color: #333;
        }
        #rss-modal h3 {
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        #rss-modal p {
            font-size: 0.95em;
            line-height: 1.6;
            color: #444;
        }
        #rss-modal .rss-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
            word-break: break-all;
        }
        #rss-modal h4 {
            margin-top: 25px;
            margin-bottom: 10px;
            font-size: 1em;
            color: #333;
        }
        #rss-modal ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        #rss-modal ul li {
            margin-bottom: 10px;
            font-size: 0.9em;
        }
        #rss-modal ul li a {
            color: #333;
            text-decoration: none;
        }
        #rss-modal ul li a:hover {
            text-decoration: underline;
        }
        #rss-modal .sezione-tag {
            font-size: 0.8em;
            color: #888;
            margin-left: 5px;
        }
    </style>
</head>
<body>

    <!-- Sidebar autori Tribuna -->
    <div id="authors-cloud">
        <h4>Autori in Tribuna</h4>
        <div class="cloud-content" id="cloud-content"></div>
    </div>

    <!-- Modale per schede autore -->
    <div id="author-modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <h3 id="modal-author-name"></h3>
            <ul id="modal-schede-list"></ul>
        </div>
    </div>

    <!-- Modale RSS -->
    <div id="rss-modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeRssModal()">&times;</span>
            <h3>Feed RSS</h3>
            <p>Puoi seguire gli aggiornamenti di Notariqon tramite il feed RSS. Copia questo indirizzo nel tuo lettore di feed preferito (Feedly, Inoreader, NetNewsWire, ecc.):</p>
            <div class="rss-link">https://guidoturco.github.io/feed.xml</div>
            <h4>Ultime uscite</h4>
            <ul id="rss-ultime-uscite"></ul>
        </div>
    </div>

    <header id="top">
        <h1>Notariqon</h1>
        <p class="subtitle">casa d'Arno</p>
        <nav>
            <a href="#bio">Biografia</a>
            <a href="#pubblicazioni">Pubblicazioni</a>
            <a href="#inediti">Inediti</a>
            <a href="#tribuna">Tribuna Critica</a>
            <a href="#disiecta">Via Babelia</a>
            <a href="#rete">In Rete</a>
            <a href="#" onclick="openRssModal(); return false;">RSS</a>
            <a href="#contatti">Contatti</a>
        </nav>
    </header>

    <img src="images/image_two.png" alt="Arno" class="main-image">
    <p class="image-credit">Lucio Maria Morra fecit</p>

    <!-- Box Ultimo pubblicato -->
    <div id="ultimo-pubblicato">
        <div class="ultimo-label">Ultimo pubblicato</div>
        <div class="ultimo-items" id="ultimo-items">
            <!-- Generato dinamicamente -->
        </div>
    </div>

    <section id="bio">
    <h2>Biografia</h2>
    <p><a href="biografia.html" target="_blank" rel="noopener" style="color:#555; text-decoration:none; font-style:italic;">Chi scrive queste cose</a></p>
    </section>

    <section id="pubblicazioni">
    <div class="section-header">
        <h2>Ultime Pubblicazioni</h2>
        <a href="#top" class="back-top">↑ Inizio</a>
    </div>
    <ul>
        <li>
            <h3>Arno E I Simpatici Vegetali - 2025</h3>
            <p>Arno si ritrova solo<br>
               ad aspettare. È una cosa che sa fare.<br>
               Un'aria ordinaria scuote le spighe<br>
               dei forasacchi le spontanee sbucate<br>
               lungo la ciclabile foriere d'ispirazione<br>
               e considerazioni musicali.<br>
               Arno trova singolare farsi cullare<br>
               da quei simpatici vegetali.<br>
               Piovesse<br>
               almeno un poco<br>
               alla piccola sinfonia<br>
               si aggiungerebbe qualche nota.</p>
            <a href="https://www.fuocofuochino.it/index.php/menu-principale/6-catalogo/" target="_blank" rel="noopener">Maggiori dettagli</a> | 
            <a href="https://www.fuocofuochino.it/index.php/afro-somenzari" target="_blank" rel="noopener">Contatta per acquistare</a>
        </li>
        <li>
            <h3>Arno e Altre Figure - 2024</h3>
            <p>Essere non è essere quello che si è, ma quello che si vorrebbe essere.<br>
                    Che cosa potrà mai significare svegliarsi, radersi, vestirsi, fare colazione, lavarsi i denti e profumarsi, indossare giacca e berretto, fare tutto questo per servire un'immagine di sé che non si riconosce?<br>
                    Arno non ci pensa nemmeno più, a tutte le biografie che si è inventato. Ci si trova benissimo. Lungo le giornate, e a momenti alterni, non fa nessuno sforzo per interpretarle: una dopo l'altra, una insieme all'altra. Quelle biografie sono le sue, sono lui, Arno.<br>
                    La maggior parte degli uomini crede a tutto, evita le fatiche dell'indagine e quelle, ben più gravose, dell'acribia. Alcuni affermano che la verità non esiste, o che non si può dire.<br>
                    Arno ha un modo diverso di considerare le cose. Tutto si può dire, anche la verità. Anzi, soprattutto la verità. È vero, a volte si nasconde, traccia percorsi inconsueti, segue un lunario particolare e non si sa se sarà l'umido ovvero il secco che la farà venire fuori. Arno la verità non la cerca, la inventa. Se quella si fa trovare, tanto meglio, altrimenti lo sforzo è solo suo, quello di fabbricare <em>ex novo</em> uno scaffale di verità, nuove sedie di verità, una biblioteca ben fornita, un archivio pieno di raccoglitori di verità, album fotografici di verità, cantine, ripostigli e soffitte piene di verità. Di molte verità, di tutte le verità che gli servono per continuare a vivere.</p>
            <a href="https://www.scalpendi.eu/catalogo/assemblaggi-e-sdoppiamenti/arno-e-altre-figure/" target="_blank" rel="noopener">Maggiori dettagli</a> | 
            <a href="https://www.amazon.it/Arno-altre-figure-Guido-Turco/dp/B0CB77KZBZ" target="_blank" rel="noopener">Acquista</a>
        </li>
        <li>
            <h3>Un'Ultima Cosa Prima di Partire - 2019</h3>
            <p>Sono un frutto caduto dall'albero genealogico. Gli altri stanno là in alto, attaccati ai rami, io sto per terra, in mezzo all'erba e alle foglie. Con un calcio qualcuno mi ha sbattuto sul lato della strada.
Mia madre soffriva della sindrome dei fratelli Collyer, o disposofia. È morta portandosi dietro nient'altro che il suo corpo. In attesa di risorgere dovrà mettersi a posto i capelli, magari stirare la gonna e la camicetta. Chi lo sa, forse entropia e aldilà non sono antinomici.
Ogni sera torno a casa con dell'altra legna. La metto nel capanno. Il mattino dopo non ce n'è quasi più. 
Va avanti così da anni la mia vita. 
Quando sono giù mi faccio nevicare addosso, qualcosa che appena si posa scompare. Anche la tristezza.</p>
            <a href="https://www.marcosayaedizioni.net/copia-di-tra-lampi-e-corti-3" target="_blank" rel="noopener">Maggiori dettagli</a> | 
            <a href="https://www.amazon.it/Unultima-prima-partire-Guido-Turco/dp/8898243839/ref=sr_1_fkmr0_1?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=39API6RZXLVYV&dib=eyJ2IjoiMSJ9.by0JUrl5nAAyYDDSvHLt-lE6hne0iufzKDIAUmid6LgL9zbaIIdYYWzD4p71daxEBLg6VBduDsu-J4vx-bfVww6QdiQoMjIjFJeYr0oksK8.VGn974_JUznB9JuXor2i9x-2AuOqV5MuScLZphQ7C7A&dib_tag=se&keywords=guido+turco+marco+saya&qid=1715712700&sprefix=guido+turco+marco+saya%2Caps%2C89&sr=8-1-fkmr0" target="_blank" rel="noopener">Acquista</a> | 
            <a href="https://www.bolognainlettere.it/2019/07/05/premio-bologna-in-lettere-2019-le-note-critiche-guido-turco-andrea-donaera/" target="_blank" rel="noopener">Recensione</a> | 
            <a href="https://www.almapoesia.it/post/ma-alle-ore-succedono-le-cose-recensione-a-un-ultima-cosa-prima-di-partire-di-guido-turco" target="_blank" rel="noopener">Recensione</a>
        </li>
    </ul>
    </section>

    <section id="inediti">
    <div class="section-header">
        <h2>Inediti</h2>
        <a href="#top" class="back-top">↑ Inizio</a>
    </div>
    <p class="section-description">Scritture che non hanno ancora trovato casa, o forse l'hanno persa.<br>
    <span style="font-size:0.85em; color:#999;">I contenuti sono protetti. Per richiedere una copia, usa il <a href="#contatti" style="color:#888;">modulo Contatti</a> indicando le ragioni — e magari <a href="#donation" style="color:#888;">offrimi un caffè</a>.</span></p>
    <div id="archive-inediti"></div>
    <div id="content-inediti"></div>
    </section>

    <section id="tribuna">
    <div class="section-header">
        <h2>Tribuna Critica</h2>
        <a href="#top" class="back-top">↑ Inizio</a>
    </div>
    <p class="section-description">Critica poetica formale e militante secondo i principi della Tribuna Critica. Analisi di poesie applicando il <a href="documenti/manifesto.html" target="_blank" rel="noopener" style="color:#555;">Manifesto</a> e il <a href="documenti/canone.html" target="_blank" rel="noopener" style="color:#555;">Canone Critico</a> elaborati dall'autore.<br>
    <span style="font-size:0.85em; color:#999;">I contenuti sono protetti. Per richiedere una copia, usa il <a href="#contatti" style="color:#888;">modulo Contatti</a> indicando le ragioni — e magari <a href="#donation" style="color:#888;">offrimi un caffè</a>.</span></p>
    <div id="archive-tribuna"></div>
    <div id="content-tribuna"></div>
    </section>

    <section id="disiecta">
    <div class="section-header">
        <h2>Via Babelia</h2>
        <a href="#top" class="back-top">↑ Inizio</a>
    </div>
    <p class="section-description">Incontri devozioni idiosincrasie occasioni e qualche pensiero a margine.<br>
    <span style="font-size:0.85em; color:#999;">I contenuti sono protetti. Per richiedere una copia, usa il <a href="#contatti" style="color:#888;">modulo Contatti</a> indicando le ragioni — e magari <a href="#donation" style="color:#888;">offrimi un caffè</a>.</span></p>
    <div id="archive-disiecta"></div>
    <div id="content-disiecta"></div>
    </section>
    
    <section id="rete">
    <div class="section-header">
        <h2>Pubblicazioni in Rete</h2>
        <a href="#top" class="back-top">↑ Inizio</a>
    </div>
    <ul>
        <li><a href="https://poesiaultracontemporanea.wordpress.com/2025/10/08/guido-turco-testamento/" target="_blank" rel="noopener">Poesia Ultracontemporanea - 2025/10</a></li>
        <li><a href="https://www.poesiaallachiarafonte.ch/Fluire-14-Guido-Turco/" target="_blank" rel="noopener">Alla Chiara Fonte - 2024/03</a></li>
        <li><a href="https://poesiaultracontemporanea.wordpress.com/2024/03/06/guido-turco-i-cieli-di-milano/" target="_blank" rel="noopener">Poesia Ultracontemporanea - 2024/03</a></li>
        <li><a href="https://blog.versanteripido.it/osservatorio-poetico-di-sonia-caporossi-guido-turco/" target="_blank" rel="noopener">Versante Ripido - Osservatorio Poetico - 2023/01</a></li>
        <li><a href="https://imperfettaellisse.it/archives/2691#more-2691" target="_blank" rel="noopener">Imperfetta Ellisse - 2022/06</a></li>
        <li><a href="https://www.poesiadelnostrotempo.it/laboratorio-di-poesia-maria-rosaria-teni-guido-turco-e-yael-merlini/" target="_blank" rel="noopener">Poesia del Nostro Tempo - 2022/03</a></li>
        <li>... e altri ce ne sarebbero...</li>
    </ul>
    </section>

    <div class="donation" id="donation">
    <p>Se ti va di offrirmi un caffè virtuale…</p>
    <p><a href="https://ko-fi.com/gt368487" target="_blank" rel="noopener" style="display:inline-block; padding:12px 24px; background:#2e4a6b; color:white; text-decoration:none; border-radius:6px; font-weight:bold;">☕ Offri un caffè</a></p>
    </div>

    <section id="contatti">
    <div class="section-header">
        <h2>Contatti</h2>
        <a href="#top" class="back-top">↑ Inizio</a>
    </div>
    <p>Se vuoi scrivermi, lascia un messaggio.</p>
    
    <form action="https://formspree.io/f/maqwabzw" method="POST" style="max-width: 600px; margin: 0 auto;">
        <label for="name">Nome (facoltativo):</label><br>
        <input type="text" id="name" name="name" style="width:100%; padding:10px; margin:10px 0; border:1px solid #ccc; border-radius:4px;"><br>
        
        <label for="email">La tua email *:</label><br>
        <input type="email" id="email" name="_replyto" required style="width:100%; padding:10px; margin:10px 0; border:1px solid #ccc; border-radius:4px;"><br>
        
        <label for="message">Messaggio *:</label><br>
        <textarea id="message" name="message" required rows="6" style="width:100%; padding:10px; margin:10px 0; border:1px solid #ccc; border-radius:4px; font-family: Helvetica, sans-serif;"></textarea><br>
        
        <button type="submit" style="padding:12px 24px; background:#333; color:white; border:none; border-radius:4px; cursor:pointer; font-size:1em;">Invia messaggio</button>
    </form>
    </section>
    
    <footer>
    <p>Contatti: usa il <a href="#contatti">form qui sopra</a></p>
    <p>Non seguirmi sui social: non sono da nessuna parte… insomma, qui un po' ci sono.</p>
    <p>&copy; 2025 Guido Turco. Tutti i diritti riservati.</p>
    </footer>

    <script>
    async function loadData(url) {
        try {
            const response = await fetch(url);
            if (!response.ok) throw new Error('File non trovato');
            return await response.json();
        } catch (error) {
            console.error('Errore caricamento ' + url, error);
            return [];
        }
    }

    // Genera lo slug dal campo date (es. "23 dicembre 2025" → "23-dicembre-2025")
    function makeSlug(dateStr) {
        return dateStr.toLowerCase().replace(/\s+/g, '-').replace(/[^\w-]/g, '');
    }

    // Converte data italiana in oggetto Date per confronto
    function parseItalianDate(dateStr) {
        const mesi = {
            'gennaio': 0, 'febbraio': 1, 'marzo': 2, 'aprile': 3,
            'maggio': 4, 'giugno': 5, 'luglio': 6, 'agosto': 7,
            'settembre': 8, 'ottobre': 9, 'novembre': 10, 'dicembre': 11
        };
        const parts = dateStr.toLowerCase().split(' ');
        if (parts.length === 3) {
            const day = parseInt(parts[0]);
            const month = mesi[parts[1]];
            const year = parseInt(parts[2]);
            if (!isNaN(day) && month !== undefined && !isNaN(year)) {
                return new Date(year, month, day);
            }
        }
        return new Date(0);
    }

    // Genera l'archivio laterale (max 5 + link "Vedi tutto")
    function generateArchive(sectionId, posts, archiveTitle, folder) {
        const sidebar = document.getElementById(`archive-${sectionId}`);
        if (!sidebar) return;

        if (posts.length === 0) {
            sidebar.innerHTML = `<p style="font-style:italic; color:#777;">Nessun contenuto ancora disponibile.</p>`;
            return;
        }

        // Ordina per data decrescente (più recenti prima)
        const sortedPosts = [...posts].sort((a, b) => parseItalianDate(b.date) - parseItalianDate(a.date));

        const maxVisible = 5;
        const visiblePosts = sortedPosts.slice(0, maxVisible);
        
        let html = `<h3><a href="${folder}/archivio.html" target="_blank" rel="noopener" style="color:#111; text-decoration:none;">${archiveTitle}</a></h3><ul style="font-size:0.9em; line-height:1.7; padding-left:20px; list-style:none; margin:0;">`;
        
        visiblePosts.forEach(post => {
            const slug = makeSlug(post.date);
            const filename = `${folder}/${slug}.html`;
            // Se c'è author, mostra "Autore (Titolo)", altrimenti solo titolo
            const displayText = post.author 
                ? `${post.author} (${post.title})`
                : post.title;
            html += `<li style="margin-bottom:8px;"><a href="${filename}" target="_blank" rel="noopener">${post.date} – ${displayText}</a></li>`;
        });
        
        html += '</ul>';

        // Se più di 5, aggiungi link "Vedi tutto l'archivio"
        if (posts.length > maxVisible) {
            html += `<p style="margin-top:15px; font-size:0.85em;"><a href="${folder}/archivio.html" target="_blank" rel="noopener">Vedi archivio completo (${posts.length} post)</a></p>`;
        }

        sidebar.innerHTML = html;
    }

    // Genera il contenuto principale (anteprima dell'ultimo post)
    function generateContent(sectionId, posts, folder) {
        const content = document.getElementById(`content-${sectionId}`);
        if (!content) return;

        if (posts.length === 0) {
            content.innerHTML = '';
            return;
        }

        // Ordina per data decrescente e prendi il più recente
        const sortedPosts = [...posts].sort((a, b) => parseItalianDate(b.date) - parseItalianDate(a.date));
        const latest = sortedPosts[0];
        const slug = makeSlug(latest.date);
        const filename = `${folder}/${slug}.html`;
        
        // Testo del link in base alla sezione
        let linkText = 'Leggi tutto →';
        if (sectionId === 'tribuna') {
            linkText = 'Leggi Scheda Critica →';
        }
        
        // Mostra autore se presente (per Tribuna Critica)
        const authorLine = latest.author 
            ? `<p style="margin:0; color:#555;">${latest.author}</p>` 
            : '';

        content.innerHTML = `
            <div class="latest-post">
                <p class="post-date">${latest.date}</p>
                ${authorLine}
                <h3 style="margin-top:5px; margin-bottom:15px;">${latest.title}</h3>
                <p><a href="${filename}" target="_blank" rel="noopener">${linkText}</a></p>
            </div>
        `;
    }

    async function init() {
        const tribuna = await loadData('data/tribuna.json');
        const inediti = await loadData('data/inediti.json');
        const disiecta = await loadData('data/disiecta.json');

        // Tribuna Critica
        generateArchive('tribuna', tribuna, 'Archivio', 'recensioni');
        generateContent('tribuna', tribuna, 'recensioni');
        generateAuthorsCloud(tribuna);

        // Inediti
        generateArchive('inediti', inediti, 'Archivio', 'inediti');
        generateContent('inediti', inediti, 'inediti');

        // Disiecta Membra
        generateArchive('disiecta', disiecta, 'Archivio', 'disiecta');
        generateContent('disiecta', disiecta, 'disiecta');

        // Ultimo pubblicato
        generateUltimoPubblicato(tribuna, inediti, disiecta);

        // Popola ultime uscite per modale RSS
        populateRssUltimeUscite(tribuna, inediti, disiecta);
    }

    function generateUltimoPubblicato(tribuna, inediti, disiecta) {
        // Raccogli tutti i post con la loro sezione
        const allPosts = [];
        
        tribuna.forEach(p => allPosts.push({...p, sezione: 'Tribuna Critica', sezId: 'tribuna', folder: 'recensioni', isTribuna: true}));
        inediti.forEach(p => allPosts.push({...p, sezione: 'Inediti', sezId: 'inediti', folder: 'inediti', isTribuna: false}));
        disiecta.forEach(p => allPosts.push({...p, sezione: 'Via Babelia', sezId: 'disiecta', folder: 'disiecta', isTribuna: false}));

        if (allPosts.length === 0) return;

        // Ordina per data decrescente
        allPosts.sort((a, b) => parseItalianDate(b.date) - parseItalianDate(a.date));

        // Data più recente in assoluto
        const mostRecentDate = parseItalianDate(allPosts[0].date);
        
        // Filtra i post da mostrare con logica differenziata
        const postsToShow = [];
        
        // 1. Aggiungi l'ultimo post di Tribuna Critica (più recente in assoluto)
        const latestTribuna = allPosts.find(p => p.isTribuna);
        if (latestTribuna) {
            postsToShow.push(latestTribuna);
        }
        
        // 2. Aggiungi post da Inediti e Via Babelia se pubblicati negli ultimi 7 giorni
        const sevenDaysAgo = new Date(mostRecentDate);
        sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
        
        allPosts.forEach(post => {
            if (!post.isTribuna) {
                const postDate = parseItalianDate(post.date);
                if (postDate >= sevenDaysAgo) {
                    // Evita duplicati (nel caso ci siano più post nella stessa sezione)
                    const alreadyAdded = postsToShow.find(p => p.sezId === post.sezId);
                    if (!alreadyAdded) {
                        postsToShow.push(post);
                    }
                }
            }
        });
        
        // Ordina i post selezionati per data (più recenti prima)
        postsToShow.sort((a, b) => parseItalianDate(b.date) - parseItalianDate(a.date));

        const container = document.getElementById('ultimo-items');
        let html = '';

        postsToShow.forEach(post => {
            const slug = makeSlug(post.date);
            const filename = `${post.folder}/${slug}.html`;
            
            const authorLine = post.author 
                ? `<div class="ultimo-author">${post.author}</div>` 
                : '';

            html += `
                <div class="ultimo-item">
                    <img src="images/image_header.png" alt="">
                    <div class="ultimo-item-content">
                        <div class="ultimo-title">${post.title}</div>
                        ${authorLine}
                        <div class="ultimo-section">${post.date} in <a href="#${post.sezId}">${post.sezione}</a> · <a href="${filename}" target="_blank" rel="noopener">Leggi →</a></div>
                    </div>
                </div>
            `;
        });

        container.innerHTML = html;
    }

    window.onload = init;

    // === WORD CLOUD AUTORI ===
    let tribunaData = [];

    function generateAuthorsCloud(posts) {
        tribunaData = posts;
        const cloudContainer = document.getElementById('cloud-content');
        if (!cloudContainer || posts.length === 0) {
            if (cloudContainer) cloudContainer.innerHTML = '<em style="color:#999;">Nessun autore</em>';
            return;
        }

        // Conta occorrenze per autore
        const authorCounts = {};
        posts.forEach(post => {
            if (post.author) {
                authorCounts[post.author] = (authorCounts[post.author] || 0) + 1;
            }
        });

        const authors = Object.keys(authorCounts);
        if (authors.length === 0) {
            cloudContainer.innerHTML = '<em style="color:#999;">Nessun autore</em>';
            return;
        }

        // Calcola min e max per scalare font-size
        const counts = Object.values(authorCounts);
        const minCount = Math.min(...counts);
        const maxCount = Math.max(...counts);
        
        // Font-size da 0.8em a 1.5em
        const minFont = 0.8;
        const maxFont = 1.5;

        // Ordina alfabeticamente per cognome
        authors.sort((a, b) => {
            // Estrae l'ultimo elemento (cognome) da ogni nome completo
            const cognomeA = a.trim().split(' ').pop().toLowerCase();
            const cognomeB = b.trim().split(' ').pop().toLowerCase();
            return cognomeA.localeCompare(cognomeB, 'it');
        });

        let html = '';
        authors.forEach(author => {
            const count = authorCounts[author];
            let fontSize = minFont;
            if (maxCount > minCount) {
                fontSize = minFont + ((count - minCount) / (maxCount - minCount)) * (maxFont - minFont);
            }
            
            // Separa nome e cognome per mettere il cognome in grassetto
            const parts = author.trim().split(' ');
            const cognome = parts.pop();
            const nome = parts.join(' ');
            const displayName = nome ? `${nome} <strong>${cognome}</strong>` : `<strong>${cognome}</strong>`;
            
            html += `<a style="font-size:${fontSize.toFixed(2)}em;" onclick="openAuthorModal('${author.replace(/'/g, "\\'")}')">${displayName}</a> `;
        });

        cloudContainer.innerHTML = html;
    }

    function openAuthorModal(authorName) {
        const modal = document.getElementById('author-modal');
        const titleEl = document.getElementById('modal-author-name');
        const listEl = document.getElementById('modal-schede-list');

        titleEl.textContent = authorName;

        // Filtra schede di questo autore
        const schede = tribunaData.filter(p => p.author === authorName);
        
        let html = '';
        schede.forEach(scheda => {
            const slug = makeSlug(scheda.date);
            const filename = `recensioni/${slug}.html`;
            html += `<li><a href="${filename}" target="_blank" rel="noopener">${scheda.date} – <em>${scheda.title}</em></a></li>`;
        });

        listEl.innerHTML = html;
        modal.classList.add('visible');
    }

    function closeModal() {
        document.getElementById('author-modal').classList.remove('visible');
    }

    // Chiudi modale cliccando fuori
    document.getElementById('author-modal').addEventListener('click', function(e) {
        if (e.target === this) closeModal();
    });

    // Chiudi modale con ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeModal();
            closeRssModal();
        }
    });

    // === MODALE RSS ===
    function openRssModal() {
        document.getElementById('rss-modal').classList.add('visible');
    }

    function closeRssModal() {
        document.getElementById('rss-modal').classList.remove('visible');
    }

    // Chiudi modale RSS cliccando fuori
    document.getElementById('rss-modal').addEventListener('click', function(e) {
        if (e.target === this) closeRssModal();
    });

    // Popola ultime uscite nella modale RSS
    function populateRssUltimeUscite(tribuna, inediti, disiecta) {
        const container = document.getElementById('rss-ultime-uscite');
        if (!container) return;

        const allPosts = [];
        tribuna.forEach(p => allPosts.push({...p, sezione: 'Tribuna', folder: 'recensioni'}));
        inediti.forEach(p => allPosts.push({...p, sezione: 'Inediti', folder: 'inediti'}));
        disiecta.forEach(p => allPosts.push({...p, sezione: 'Via Babelia', folder: 'disiecta'}));

        if (allPosts.length === 0) {
            container.innerHTML = '<li><em>Nessun contenuto ancora.</em></li>';
            return;
        }

        // Ordina per data e prendi le ultime 5
        allPosts.sort((a, b) => parseItalianDate(b.date) - parseItalianDate(a.date));
        const ultimi = allPosts.slice(0, 5);

        let html = '';
        ultimi.forEach(post => {
            const slug = makeSlug(post.date);
            const filename = `${post.folder}/${slug}.html`;
            const titolo = post.author ? `${post.author} – ${post.title}` : post.title;
            html += `<li><a href="${filename}" target="_blank" rel="noopener">${post.date}: ${titolo}</a> <span class="sezione-tag">[${post.sezione}]</span></li>`;
        });

        container.innerHTML = html;
    }
    </script>

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Guido Turco",
      "url": "https://guidoturco.github.io",
      "jobTitle": "Poeta e Critico Letterario",
      "description": "Poeta e critico letterario italiano, autore del sito Notariqon – casa d'Arno, dedicato alla poesia contemporanea e alla critica letteraria.",
      "knowsAbout": ["Poesia italiana", "Critica letteraria", "Letteratura contemporanea"]
    }
    </script>

    <!-- GoatCounter analytics -->
    <script data-goatcounter="https://guidoturco.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
